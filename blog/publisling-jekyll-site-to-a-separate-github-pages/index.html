<!doctype html><html lang=en-au><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Michail Konst"><meta property="og:type" content="article"><meta property="og:image" content="https://www.michailkonst.com//img/home.jpg"><meta property="twitter:image" content="https://www.michailkonst.com//img/home.jpg"><meta name=title content="Publishing a Jekyll site to a separate Github Pages repository using Github Actions"><meta property="og:title" content="Publishing a Jekyll site to a separate Github Pages repository using Github Actions"><meta property="twitter:title" content="Publishing a Jekyll site to a separate Github Pages repository using Github Actions"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta property="og:url" content="https://www.michailkonst.com/blog/publisling-jekyll-site-to-a-separate-github-pages/"><meta property="twitter:card" content="Learn how to automate the deployment of your Jekyll site to a separate GitHub Pages repository using GitHub Actions, streamlining your workflow and ensuring seamless updates."><meta name=keyword content><link rel="shortcut icon" href=/img/favicon.ico><title>Publishing a Jekyll site to a separate Github Pages repository using Github Actions | Michail Konst</title>
<link rel=canonical href=/blog/publisling-jekyll-site-to-a-separate-github-pages/><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/css/zanshang.min.css><link rel=stylesheet href=/css/font-awesome.all.min.css><link rel=stylesheet href=https://www.michailkonst.com/css/custom.css><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/hux-blog.min.js></script><script src=/js/lazysizes.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=/>Michail Konst</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>All Posts</a></li><li><a href=/about//>ABOUT</a></li><li><a href=/search><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(/img/home.jpg)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags></div><h1>Publishing a Jekyll site to a separate Github Pages repository using Github Actions</h1><h2 class=subheading></h2><span class=meta>Posted by
Michail Konst
on
Saturday, October 7, 2023</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p>In the realm of static site generators, Jekyll stands tall as a popular choice among content creators and developers alike. Its simplicity and flexibility make it an ideal tool for crafting stunning websites and blogs (or not-so-stunning ones, like this one). If you&rsquo;re using Jekyll to power your website and want to streamline the deployment process to GitHub Pages, you&rsquo;re in the right place. In this post, we&rsquo;ll guide you through the steps to publish your Jekyll site to a separate GitHub Pages repository using GitHub Actions.</p><h2 id=why-separate-repositories>Why Separate Repositories?</h2><p>Before we dive into the technical details, you might wonder why you&rsquo;d want to publish your Jekyll site to a different repository than to a <code>gh-pages</code> branch in your site&rsquo;s source code.</p><p><strong>Isolation:</strong> Keeping your source code and published site in separate repositories helps maintain a cleaner project structure. It reduces the clutter in your source repository and isolates your published site for easier management.</p><p><strong>Security:</strong> By separating your source code from your published site, you minimize the risk of accidentally exposing sensitive information or configuration details in your public repository. Remember, your GitHub Pages site needs to be a public GitHub repository. You can, however, keep your Jekyll source files in a different, private repository.</p><h2 id=steps-to-deploy-your-jekyll-site>Steps to Deploy Your Jekyll Site</h2><p>Now, let&rsquo;s get into the nitty-gritty of deploying your Jekyll site to a separate GitHub Pages repository using GitHub Actions. Here&rsquo;s a step-by-step guide:</p><p><strong>Step 1: Create a New Repository for Your GitHub Pages Site</strong></p><p>Start by creating a new <a href=https://pages.github.com/>GitHub repository</a> (typically called <code>&lt;your username>.github.io</code>) dedicated to your GitHub Pages site. This will serve as the target repository where your Jekyll-generated HTML files will be deployed.</p><p><strong>Step 2: Configure GitHub Actions Workflow</strong></p><p>In your source code repository (the one containing your Jekyll project), you&rsquo;ll need to set up a GitHub Actions workflow. Create a .github/workflows directory in your source code repository and add a YAML file (e.g., deploy.yml) to define your workflow.</p><p>Here&rsquo;s an example workflow configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build and Publish Jekyll Site</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>master</span> <span style=color:#75715e># Change this to your master branch&#39;s name</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>build</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout Code</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Set Up Ruby</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>ruby/setup-ruby@v1</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>ruby-version</span>: <span style=color:#ae81ff>3.1.2</span> <span style=color:#75715e># Adjust as needed</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install Dependencies</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          gem install bundler
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          bundle install</span>
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build Jekyll Site</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          bundle exec jekyll build</span>
</span></span><span style=display:flex><span>     
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy Site</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>external_repository</span>: <span style=color:#ae81ff>&lt;your username&gt;/&lt;your github pages repo&gt;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>deploy_key</span>: <span style=color:#ae81ff>${{ secrets.DEPLOY_KEY }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_branch</span>: <span style=color:#ae81ff>master</span> <span style=color:#75715e># Change this to your master branch&#39;s name</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./_site</span> <span style=color:#75715e># change to the output dir of your Jekyll build</span>
</span></span></code></pre></div><p>This workflow checks out your source code, sets up the required Ruby environment, builds your Jekyll site, and deploys it to your GitHub Pages repository.</p><p><strong>Step 3: Create and Use a Deploy Key</strong></p><p>To securely deploy your site to the GitHub Pages repository, you can create and use a deploy key or a personal access token. The above example uses the property for a deploy key.</p><p>Here&rsquo;s how to create and use a deploy key:</p><ul><li>On your local machine, open a terminal.</li><li>Use the following command to generate an SSH key pair. Replace with a descriptive name for your key.</li></ul><pre tabindex=0><code>ssh-keygen -t rsa -b 4096 -C &#34;$(git config user.email)&#34; -f &lt;your key name&gt; -N &#34;&#34;
</code></pre><ul><li>You&rsquo;ll get two files, one with a .pub extension (a public key) and one with no extension (a private key).</li><li>Go to your Github Pages repository and add the public key there and tick &ldquo;Allow write access&rdquo;</li><li>Go to the Secrets of your Jekyll source repository and add your private key as <code>DEPLOY_KEY</code>(or give it another name, but that needs to be reflected in the Action YAML.)</li></ul><p>Note: Deploy keys are typically not protected by a passphrase for automation purposes, as they are used in automated workflows where manual intervention to enter a passphrase isn&rsquo;t desired. However, it&rsquo;s crucial to take steps to secure your deploy key by reducing the attack surface, which is easier to do if you&rsquo;re the sole contributor to your repository and you&rsquo;re pushing to your GitHub Pages site from one single location. And if you suspect any security breach, rotate the key.</p><p><strong>Step 4: Commit and Push Changes</strong></p><p>Commit the changes to your source code repository and push them to your master branch (or the branch you specified in the workflow configuration). This will trigger the GitHub Actions workflow.</p><p>If you want, you can go to the &ldquo;Actions&rdquo; tab in your source code repository on GitHub to monitor the progress of your workflow. Once it&rsquo;s complete, your Jekyll site will be deployed to your GitHub Pages repository. You can monitor <em>that</em> workflow by going to your GitHub Pages repository and view the Actions there.</p><p><strong>Step 5: Access Your Published Site</strong></p><p>Visit https://&lt;your GitHub username>.github.io/ in your web browser to access your published Jekyll site, where username is your GitHub username.</p><p>By following these steps, you&rsquo;ve successfully set up an automated deployment pipeline for your Jekyll site to a separate GitHub Pages repository. This approach not only keeps your source code clean but also ensures that your website is always up-to-date with the latest changes, every time you push to GitHub.</p><hr><ul class=pager><li class=previous><a href=/blog/writing-a-novel-with-visual-studio-code/ data-toggle=tooltip data-placement=top title="Writing a Novel With Visual Studio Code">&larr;
Previous Post</a></li><li class=next><a href=/blog/moving-files-between-git-repositories-history/ data-toggle=tooltip data-placement=top title="Preserve commit history when moving files across Git repositories">Next
Post &rarr;</a></li></ul></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>Contents</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=https://x.com/michailkonst><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/michailkonst><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://www.linkedin.com/in/michailkonstant/><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; Michail Konst 2025</p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),r.each(function(){n=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),t=$(this).text(),i=$('<a href="'+o+'" rel="nofollow" title="'+t+'">'+t+"</a>"),s=$('<li class="'+n+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>